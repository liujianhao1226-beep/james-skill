# 重构计划

## 基本信息

| 项目 | 内容 |
|------|------|
| 日期 | {{DATE}} |
| 目标文件/模块 | {{TARGET}} |
| 重构类型 | {{TYPE}} |

## 当前问题

### 代码异味
<!-- 识别出的代码异味 -->

1. **{{SMELL_1}}**
   - 位置: `file.py:123`
   - 描述: 问题描述

2. **{{SMELL_2}}**
   - 位置: `file.py:456`
   - 描述: 问题描述

### 复杂度指标

| 指标 | 当前值 | 目标值 |
|------|--------|--------|
| 圈复杂度 | | < 10 |
| 函数长度 | | < 50 行 |
| 类大小 | | < 200 行 |

## 重构目标

1. 目标 1
2. 目标 2
3. 目标 3

## 重构步骤

### 第一步: {{STEP_1_TITLE}}

**重构手法**: Extract Function / Move Method / ...

**Before**:
```python
# 重构前的代码
```

**After**:
```python
# 重构后的代码
```

**验证**:
- [ ] 运行测试
- [ ] 检查功能

---

### 第二步: {{STEP_2_TITLE}}

...

## 风险评估

| 风险 | 等级 | 缓解措施 |
|------|------|----------|
| 破坏现有功能 | 中 | 完善测试覆盖 |
| 引入新 bug | 低 | 小步重构，频繁测试 |

## 测试计划

- [ ] 现有测试全部通过
- [ ] 新增测试覆盖重构部分
- [ ] 手动验证关键功能

## 回滚方案

```bash
# 如果出现问题，执行回滚
git revert <commit_hash>
```

## 完成检查清单

- [ ] 所有测试通过
- [ ] 代码已审查
- [ ] 文档已更新
- [ ] 复杂度指标达标
- [ ] 无新增代码异味

---
*本计划由 Claude Refactor Skill 生成*
